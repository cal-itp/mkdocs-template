{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Getting started","text":"<p>This is a template repository to enable rapid creation of documentation sites built using <code>mkdocs</code> and served via GitHub Pages under Cal-ITP\u2019s <code>docs.calitp.org</code> domain.</p>"},{"location":"#create-new-site-from-template","title":"Create new site from template","text":"<p>Follow these steps to create a new repository that uses this repository as a template. Content from the new repository will be published online at <code>https://docs.calitp.org/repo-name</code>.</p> <p>Adapted from GitHub\u2019s documentation.</p> <ol> <li> <p>Head to the generate repository page for this template:    https://github.com/cal-itp/mkdocs-template/generate</p> </li> <li> <p>Configure the new repository\u2019s details, including the Owner (<code>cal-itp</code>), Name, and Description </p> </li> <li> <p>Ensure the new repository\u2019s visiblity is set to Public </p> </li> <li> <p>Ensure the checkbox to Include all branches is checked    </p> </li> <li> <p>Click Create repository from template to finish and create the new repository</p> </li> </ol>"},{"location":"#finalize-the-new-site","title":"Finalize the new site","text":"<p>Once the above steps are complete and the new repository is ready, it\u2019s a good idea to clean up the remnants of the template.</p> <p>This includes:</p> <ul> <li>Review the <code>LICENSE</code> file and ensure it is appropriate for your new project. If not, update it with a more appropriate   license before continuing.</li> <li>Find+Replace instances of <code>mkdocs-template</code> with the name of your new repository.</li> <li>Edit the <code>docs/.pages</code> file to update your site\u2019s navigation menu, or delete the file to generate a navigation menu for the   site automatically. Read more about the   <code>mkdocs-awesome-pages-plugin</code>.</li> </ul>"},{"location":"#how-does-this-work","title":"How does this work?","text":""},{"location":"#mkdocs","title":"<code>mkdocs</code>","text":"<p><code>mkdocs</code> turns markdown content inside the <code>docs/</code> directory into HTML+CSS+JS needed for a website.</p> <p>The <code>mkdocs.yml</code> file in the root of the repository configures website settings and available plugins for this build process.</p> <p>The <code>docs/requirements.txt</code> file lists the python dependencies necessary to build the documentation using <code>mkdocs</code>.</p>"},{"location":"#github-actions","title":"GitHub Actions","text":"<p>A GitHub Action called <code>mhausenblas/mkdocs-deploy-gh-pages</code> enables automated building of new documentation content using <code>mkdocs</code>, whenever the content changes. Our workflow is defined in the <code>.github/workflows/mkdocs.yml</code> file.</p> <p>The action uses the <code>docs/requirements.txt</code> file to install the necessary dependencies for building the docs site.</p> <p>After running <code>mkdocs</code>, the action redeploys the documentation site by force-pushing to the <code>gh-pages</code> branch.</p>"},{"location":"#github-pages","title":"GitHub Pages","text":"<p>GitHub Pages serves the website from the <code>gh-pages</code> branch of this repository.</p> <p>Cal-ITP has an Organization site repository at https://github.com/cal-itp/cal-itp.github.io. This repository contains the root website and is served (via a <code>CNAME</code>) from https://docs.calitp.org.</p> <p>GitHub Pages for Organizations functions such that any repository created in the Cal-ITP Organization, with GitHub Pages enabled, will have an automatic domain at <code>https://docs.calitp.org/repository-name</code>.</p>"},{"location":"running-locally/","title":"Running locally","text":"<p>Requires Docker. The following commands should be entered and run in a terminal program like <code>bash</code>.</p>"},{"location":"running-locally/#clone-the-repository","title":"Clone the repository","text":"<pre><code>git clone https://github.com/cal-itp/mkdocs-template\ncd mkdocs-template\n</code></pre>"},{"location":"running-locally/#build-the-image","title":"Build the image","text":"<pre><code>docker build -t mkdocs-template -f .devcontainer/Dockerfile .\n</code></pre>"},{"location":"running-locally/#run-a-container","title":"Run a container","text":"<pre><code>docker run -p 8000:8000 mkdocs-template\n</code></pre> <p>The site should be available at http://localhost:8000.</p>"},{"location":"running-locally/#vs-code-devcontainer","title":"VS Code Devcontainer","text":"<p>This repository comes with a VS Code Devcontainers configuration.</p> <p>Once you clone the repository locally, simply open it within VS Code, which will prompt you to re-open the repository within the Devcontainer.</p> <p>Once the Devcontainer is running, bring up the Command Palette and enter:</p> <pre><code>&gt; Tasks: Run Build Task\n</code></pre> <p>To build the site and launch a local server. The site is running on http://localhost at a randomly assigned port; see the VS Code <code>Ports</code> tab for information.</p>"}]}